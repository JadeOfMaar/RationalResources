@PART:HAS[#RRAirFilter[Set]]:NEEDS[Kerbalism]:FOR[RationalResourcesKerbalism]
{
	@RRAirFilter = isSet
	@tags ^= :$: _kerbalism
	
	!MODULE[ModuleResourceHarvester],* {}
	MODULE
	{
		name = Harvester
		title = LqdAmmonia Filter
		type = 2
		resource = LqdAmmonia
		min_abundance = 0.001
		rate = 0.03
		ec_rate = 5
		@rate *= #$/RRPower$
		@ec_rate *= #$/RRPower$
	}
	MODULE
	{
		name = Harvester
		title = ArgonGas Filter
		type = 2
		resource = ArgonGas
		min_abundance = 0.001
		rate = 0.03
		ec_rate = 5
		@rate *= #$/RRPower$
		@ec_rate *= #$/RRPower$
	}
	MODULE
	{
		name = Harvester
		title = LqdCO2 Filter
		type = 2
		resource = LqdCO2
		min_abundance = 0.001
		rate = 0.03
		ec_rate = 5
		@rate *= #$/RRPower$
		@ec_rate *= #$/RRPower$
	}
	MODULE
	{
		name = Harvester
		title = LqdHydrogen Filter
		type = 2
		resource = LqdHydrogen
		min_abundance = 0.001
		rate = 0.03
		ec_rate = 5
		@rate *= #$/RRPower$
		@ec_rate *= #$/RRPower$
	}
	MODULE
	{
		name = Harvester
		title = LqdMethane Filter
		type = 2
		resource = LqdMethane
		min_abundance = 0.001
		rate = 0.03
		ec_rate = 5
		@rate *= #$/RRPower$
		@ec_rate *= #$/RRPower$
	}	
	MODULE
	{
		name = Harvester
		title = LqdDeuterium Filter
		type = 2
		resource = LqdDeuterium
		min_abundance = 0.001
		rate = 0.03
		ec_rate = 5
		@rate *= #$/RRPower$
		@ec_rate *= #$/RRPower$
	}
	MODULE
	{
		name = Harvester
		title = LqdHe3 Filter
		type = 2
		resource = LqdHe3
		min_abundance = 0.001
		rate = 0.03
		ec_rate = 5
		@rate *= #$/RRPower$
		@ec_rate *= #$/RRPower$
	}
	MODULE
	{
		name = Harvester
		title = LqdNitrogen Filter
		type = 2
		resource = LqdNitrogen
		min_abundance = 0.001
		rate = 0.03
		ec_rate = 5
		@rate *= #$/RRPower$
		@ec_rate *= #$/RRPower$
	}
	MODULE
	{
		name = Harvester
		title = LqdOxygen Filter
		type = 2
		resource = LqdOxygen
		min_abundance = 0.001
		rate = 0.03
		ec_rate = 5
		@rate *= #$/RRPower$
		@ec_rate *= #$/RRPower$
	}
	MODULE
	{
		name = Harvester
		title = Water Filter
		type = 2
		resource = Water
		min_abundance = 0.001
		rate = 0.03
		ec_rate = 5
		@rate *= #$/RRPower$
		@ec_rate *= #$/RRPower$
	}
	MODULE
	{
		name = Harvester
		title = XenonGas Filter
		type = 2
		resource = XenonGas
		min_abundance = 0.001
		rate = 0.03
		ec_rate = 5
		@rate *= #$/RRPower$
		@ec_rate *= #$/RRPower$
	}
	MODULE
	{
		name = Configure
		title = Filter
		slots = 1
		
		SETUP
		{
			name = LqdAmmonia Extraction
			desc = Extract <b>LqdAmmonia</b> from the atmosphere.
			MODULE
			{
				type = Harvester
				id_field = resource
				id_value = LqdAmmonia
			}
			RESOURCE
			{
				name = LqdAmmonia
				amount = 0
				maxAmount = 50
			}
		}
		SETUP
		{
			name = ArgonGas Extraction
			desc = Extract <b>ArgonGas</b> from the atmosphere.
			MODULE
			{
				type = Harvester
				id_field = resource
				id_value = ArgonGas
			}
			RESOURCE
			{
				name = ArgonGas
				amount = 0
				maxAmount = 50
			}
		}
		SETUP
		{
			name = LqdCO2 Extraction
			desc = Extract <b>LqdCO2</b> from the atmosphere.
			MODULE
			{
				type = Harvester
				id_field = resource
				id_value = LqdCO2
			}
			RESOURCE
			{
				name = LqdCO2
				amount = 0
				maxAmount = 50
			}
		}
		SETUP
		{
			name = LqdHydrogen Extraction
			desc = Extract <b>LqdHydrogen</b> from the atmosphere.
			MODULE
			{
				type = Harvester
				id_field = resource
				id_value = LqdHydrogen
			}
			RESOURCE
			{
				name = LqdHydrogen
				amount = 0
				maxAmount = 50
			}
		}
		SETUP
		{
			name = LqdMethaneExtraction
			desc = Extract <b>LqdMethane</b> from the atmosphere.
			MODULE
			{
				type = Harvester
				id_field = resource
				id_value = LqdMethane
			}
			RESOURCE
			{
				name = LqdMethane
				amount = 0
				maxAmount = 50
			}
		}		
		SETUP
		{
			name = Deuterium Extraction
			desc = Extract <b>LqdDeuterium</b> from the atmosphere.
			MODULE
			{
				type = Harvester
				id_field = resource
				id_value = LqdHe3
			}
			RESOURCE
			{
				name = LqdDeuterium
				amount = 0
				maxAmount = 50
			}
		}
		SETUP
		{
			name = LqdHe3 Extraction
			desc = Extract <b>LqdHe3</b> from the atmosphere.
			MODULE
			{
				type = Harvester
				id_field = resource
				id_value = LqdHe3
			}
			RESOURCE
			{
				name = LqdHe3
				amount = 0
				maxAmount = 50
			}
		}
		SETUP
		{
			name = LqdNitrogen Extraction
			desc = Extract <b>LqdNitrogen</b> from the atmosphere.
			MODULE
			{
				type = Harvester
				id_field = resource
				id_value = LqdNitrogen
			}
			RESOURCE
			{
				name = LqdNitrogen
				amount = 0
				maxAmount = 50
			}
		}
		SETUP
		{
			name = LqdOxygen Extraction
			desc = Extract <b>LqdOxygen</b> from the atmosphere.
			MODULE
			{
				type = Harvester
				id_field = resource
				id_value = LqdOxygen
			}
			RESOURCE
			{
				name = LqdOxygen
				amount = 0
				maxAmount = 50
			}
		}
		SETUP
		{
			name = Water Extraction
			desc = Extract <b>Water</b> from the atmosphere.
			MODULE
			{
				type = Harvester
				id_field = resource
				id_value = Water
			}
			RESOURCE
			{
				name = Water
				amount = 0
				maxAmount = 50
			}
		}
		SETUP
		{
			name = XenonGas Extraction
			desc = Extract <b>XenonGas</b> from the atmosphere.
			MODULE
			{
				type = Harvester
				id_field = resource
				id_value = XenonGas
			}
			RESOURCE
			{
				name = XenonGas
				amount = 0
				maxAmount = 50
			}
		}
	}
}
